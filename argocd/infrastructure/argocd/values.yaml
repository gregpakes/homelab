crds:
  install: true

global:
  # This becomes the default hostname for the server ingress
  domain: argocd.gregpakes.co.uk

server:
  service:
    type: ClusterIP

  ingress:
    enabled: true
    ingressClassName: traefik-internal

    # # New-style keys:
    # hostname: argocd.gregpakes.co.uk
    # path: /
    # pathType: Prefix

    extraTls:
      - hosts:
          - argocd.gregpakes.co.uk
        secretName: wildcard-gregpakes-co-uk

configs:
  cm:
    # Match how you're actually accessing it â€“ if no TLS yet, use http:
    url: https://argocd.gregpakes.co.uk

    resource.customizations.ignoreResourceUpdates.ConfigMap: |
      jqPathExpressions:
        - '.metadata.annotations."cluster-autoscaler.kubernetes.io/last-updated"'
        - '.metadata.annotations."control-plane.alpha.kubernetes.io/leader"'
    resource.customizations.ignoreResourceUpdates.discovery.k8s.io_EndpointSlice: |
      jsonPointers:
        - /metadata
        - /endpoints
        - /ports

    resource.exclusions: |
      []